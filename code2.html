<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KYC Shop - Верифицированные Аккаунты</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      color: #333;
      line-height: 1.6;
    }

    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 1rem 2rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
      backdrop-filter: blur(10px);
    }

    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .site-logo {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }

    .site-logo:hover {
      transform: scale(1.1);
    }

    .site-logo i {
      font-size: 24px;
      color: #667eea;
    }

    .site-title {
      font-size: 1.8rem;
      color: white;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .search-container {
      position: relative;
      flex: 1;
      max-width: 400px;
      margin: 0 2rem;
    }

    .search-input {
      width: 100%;
      padding: 12px 50px 12px 20px;
      border: none;
      border-radius: 25px;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      font-size: 16px;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .search-input::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    .search-input:focus {
      outline: none;
      background: rgba(255, 255, 255, 0.3);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
    }

    .search-icon {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: rgba(255, 255, 255, 0.7);
      cursor: pointer;
    }

    .header-icons {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }

    .header-icon {
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      padding: 10px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      position: relative;
    }

    .header-icon:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }

    .cart-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background: #ff4757;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .filter-bar {
      background: white;
      border-radius: 15px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .filter-controls {
      display: flex;
      align-items: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .filter-group {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .filter-group label {
      font-weight: 600;
      color: #555;
    }

    .filter-select, .sort-select {
      padding: 8px 15px;
      border: 2px solid #e1e5e9;
      border-radius: 8px;
      background: white;
      color: #333;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .filter-select:focus, .sort-select:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .stats {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-left: auto;
      color: #666;
      font-size: 14px;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 2rem;
      padding: 1rem 0;
    }

    .product-card {
      background: white;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      border: 1px solid rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      cursor: pointer;
    }

    .product-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
    }

    .product-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .product-card:hover::before {
      opacity: 1;
    }

    .product-top {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 2rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .product-top::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
      animation: shimmer 3s ease-in-out infinite;
    }

    @keyframes shimmer {
      0%, 100% { transform: rotate(0deg); }
      50% { transform: rotate(180deg); }
    }

    .logo-wrapper {
      background: white;
      padding: 1rem;
      border-radius: 15px;
      display: inline-block;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      position: relative;
      z-index: 2;
      transition: transform 0.3s ease;
    }

    .logo-wrapper:hover {
      transform: scale(1.05);
    }

    .logo-wrapper img {
      width: 80px;
      height: 80px;
      object-fit: contain;
    }

    .product-info {
      padding: 1.5rem;
    }

    .product-rating {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.25rem;
      margin-bottom: 1rem;
    }

    .star {
      color: #ffd700;
      font-size: 16px;
    }

    .rating-text {
      margin-left: 0.5rem;
      color: #666;
      font-size: 14px;
    }

    .product-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: #333;
      text-align: center;
    }

    .product-category {
      font-size: 0.85rem;
      color: #888;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-align: center;
      margin-bottom: 1rem;
    }

    .product-features {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      justify-content: center;
      margin-bottom: 1rem;
    }

    .feature-badge {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 15px;
      font-size: 0.75rem;
      font-weight: 500;
    }

    .product-bottom {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.5rem;
      border-top: 1px solid #f0f0f0;
      background: #fafafa;
    }

    .product-price {
      font-size: 1.4rem;
      font-weight: 700;
      color: #667eea;
    }

    .product-button {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 25px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-size: 0.85rem;
    }

    .product-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
    }

    .favorite-btn {
      position: absolute;
      top: 1rem;
      left: 1rem;
      background: rgba(255, 255, 255, 0.9);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 10;
    }

    .favorite-btn:hover {
      background: white;
      transform: scale(1.1);
    }

    .favorite-btn i {
      color: #ff4757;
      font-size: 18px;
    }

    .favorite-btn.active i {
      color: #ff4757;
    }

    .availability {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255, 255, 255, 0.9);
      color: #333;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      backdrop-filter: blur(10px);
    }

    .availability.in-stock {
      background: rgba(46, 204, 113, 0.1);
      color: #27ae60;
      border: 1px solid rgba(46, 204, 113, 0.3);
    }

    .availability.limited {
      background: rgba(241, 196, 15, 0.1);
      color: #f39c12;
      border: 1px solid rgba(241, 196, 15, 0.3);
    }

    .availability.out-of-stock {
      background: rgba(231, 76, 60, 0.1);
      color: #e74c3c;
      border: 1px solid rgba(231, 76, 60, 0.3);
    }

    .loading {
      text-align: center;
      padding: 3rem;
      color: #666;
    }

    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #667eea;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin: 0 auto 1rem;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .no-results {
      text-align: center;
      padding: 3rem;
      color: #666;
    }

    .no-results i {
      font-size: 4rem;
      margin-bottom: 1rem;
      color: #ddd;
    }

    /* Модальные окна */
    .modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: white;
      margin: 5% auto;
      padding: 2rem;
      border-radius: 20px;
      max-width: 600px;
      position: relative;
      animation: modalSlideIn 0.3s ease;
    }

    @keyframes modalSlideIn {
      from { transform: translateY(-50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .close {
      position: absolute;
      right: 20px;
      top: 20px;
      font-size: 24px;
      cursor: pointer;
      color: #999;
      transition: color 0.3s ease;
    }

    .close:hover {
      color: #333;
    }

    .cart-sidebar {
      position: fixed;
      right: -400px;
      top: 0;
      width: 400px;
      height: 100vh;
      background: white;
      box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
      transition: right 0.3s ease;
      z-index: 1500;
      padding: 2rem;
      overflow-y: auto;
    }

    .cart-sidebar.open {
      right: 0;
    }

    .cart-overlay {
      position: fixed;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1400;
      display: none;
    }

    .cart-overlay.show {
      display: block;
    }

    .cart-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      border-bottom: 1px solid #eee;
    }

    .cart-item img {
      width: 50px;
      height: 50px;
      border-radius: 8px;
    }

    .cart-item-info {
      flex: 1;
    }

    .cart-item-name {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .cart-item-price {
      color: #667eea;
      font-weight: 600;
    }

    .quantity-controls {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }

    .quantity-btn {
      background: #f8f9fa;
      border: 1px solid #ddd;
      border-radius: 4px;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .quantity-btn:hover {
      background: #e9ecef;
    }

    .cart-total {
      padding: 1rem;
      border-top: 2px solid #667eea;
      margin-top: 1rem;
    }

    .checkout-btn {
      width: 100%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 1rem;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 1rem;
      transition: all 0.3s ease;
    }

    .checkout-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
    }

    .product-detail {
      display: flex;
      gap: 2rem;
      align-items: flex-start;
    }

    .product-detail-image {
      flex-shrink: 0;
    }

    .product-detail-image img {
      width: 150px;
      height: 150px;
      object-fit: contain;
      border-radius: 15px;
    }

    .product-detail-info h2 {
      margin-bottom: 1rem;
      color: #333;
    }

    .product-detail-price {
      font-size: 2rem;
      color: #667eea;
      font-weight: 700;
      margin: 1rem 0;
    }

    .product-description {
      margin: 1rem 0;
      line-height: 1.6;
      color: #666;
    }

    .crypto-payment {
      background: #f8f9fa;
      border-radius: 15px;
      padding: 2rem;
      margin-top: 2rem;
    }

    .crypto-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      margin: 1rem 0;
    }

    .crypto-option {
      background: white;
      border: 2px solid #e1e5e9;
      border-radius: 10px;
      padding: 1rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .crypto-option:hover,
    .crypto-option.selected {
      border-color: #667eea;
      background: #f8f9ff;
    }

    .payment-address {
      background: #f8f9fa;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 1rem;
      margin: 1rem 0;
      font-family: monospace;
      word-break: break-all;
    }

    /* Профиль и избранное */
    .profile-modal .modal-content {
      max-width: 500px;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: #333;
    }

    .form-group input {
      width: 100%;
      padding: 0.75rem;
      border: 2px solid #e1e5e9;
      border-radius: 8px;
      font-size: 16px;
      transition: border-color 0.3s ease;
    }

    .form-group input:focus {
      outline: none;
      border-color: #667eea;
    }

    .auth-buttons {
      display: flex;
      gap: 1rem;
      margin-top: 2rem;
    }

    .auth-btn {
      flex: 1;
      padding: 0.75rem;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .login-btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
    }

    .register-btn {
      background: #f8f9fa;
      color: #333;
      border: 2px solid #e1e5e9;
    }

    .auth-btn:hover {
      transform: translateY(-2px);
    }

    .user-info {
      text-align: center;
      padding: 2rem;
    }

    .user-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      margin: 0 auto 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 2rem;
    }

    .favorites-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.5rem;
      padding: 1rem 0;
    }

    .favorite-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      background: white;
      border-radius: 10px;
      padding: 1rem;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .favorite-item img {
      width: 60px;
      height: 60px;
      border-radius: 8px;
    }

    .favorite-item-info {
      flex: 1;
    }

    .favorite-item-name {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .favorite-item-price {
      color: #667eea;
      font-weight: 600;
    }

    .remove-favorite {
      background: #ff4757;
      color: white;
      border: none;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .remove-favorite:hover {
      background: #ff3838;
      transform: scale(1.1);
    }

    @media (max-width: 768px) {
      .header-content {
        flex-direction: column;
        gap: 1rem;
      }

      .search-container {
        order: 1;
        margin: 0;
        width: 100%;
      }

      .filter-controls {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
      }

      .stats {
        margin-left: 0;
        margin-top: 1rem;
      }

      .product-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .container {
        padding: 1rem;
      }

      .cart-sidebar {
        width: 100%;
        right: -100%;
      }

      .product-detail {
        flex-direction: column;
        text-align: center;
      }

      .crypto-options {
        grid-template-columns: 1fr 1fr;
      }
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-content">
      <div class="header-left">
        <div class="site-logo">
          <i class="fas fa-shield-alt"></i>
        </div>
        <div class="site-title">KYC Shop</div>
      </div>
      
      <div class="search-container">
        <input type="text" class="search-input" placeholder="Поиск аккаунтов..." id="searchInput">
        <i class="fas fa-search search-icon"></i>
      </div>
      
      <div class="header-icons">
        <div class="header-icon" title="Избранное" id="favoritesBtn">
          <i class="fas fa-heart"></i>
        </div>
        <div class="header-icon" title="Профиль" id="profileBtn">
          <i class="fas fa-user"></i>
        </div>
        <div class="header-icon" title="Корзина" id="cartBtn">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-badge" id="cartBadge">0</span>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="filter-bar">
      <div class="filter-controls">
        <div class="filter-group">
          <label for="categoryFilter">Категория:</label>
          <select id="categoryFilter" class="filter-select">
            <option value="all">Все категории</option>
            <option value="crypto">Криптоплатформы</option>
            <option value="payment">Платежные системы</option>
            <option value="social">Социальные сети</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="priceFilter">Цена:</label>
          <select id="priceFilter" class="filter-select">
            <option value="all">Любая цена</option>
            <option value="0-30">$0 - $30</option>
            <option value="30-50">$30 - $50</option>
            <option value="50-100">$50 - $100</option>
            <option value="100+">$100+</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="sortBy">Сортировка:</label>
          <select id="sortBy" class="sort-select">
            <option value="name">По названию</option>
            <option value="price-low">Цена: по возрастанию</option>
            <option value="price-high">Цена: по убыванию</option>
            <option value="rating">По рейтингу</option>
          </select>
        </div>
        
        <div class="stats">
          <i class="fas fa-chart-bar"></i>
          <span id="resultsCount">Показано: 0 из 0</span>
        </div>
      </div>
    </div>

    <div id="productGrid" class="product-grid">
      <div class="loading">
        <div class="spinner"></div>
        <p>Загрузка товаров...</p>
      </div>
    </div>
  </div>

  <!-- Корзина -->
  <div class="cart-overlay" id="cartOverlay"></div>
  <div class="cart-sidebar" id="cartSidebar">
    <h2>Корзина</h2>
    <div id="cartItems"></div>
    <div class="cart-total">
      <div>Итого: $<span id="cartTotal">0.00</span></div>
      <button class="checkout-btn" onclick="openCheckout()">Оформить заказ</button>
    </div>
  </div>

  <!-- Модальное окно товара -->
  <div id="productModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('productModal')">&times;</span>
      <div id="productDetail"></div>
    </div>
  </div>

  <!-- Модальное окно оплаты -->
  <div id="checkoutModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('checkoutModal')">&times;</span>
      <h2>Оплата криптовалютой</h2>
      <div class="crypto-payment">
        <h3>Выберите криптовалюту:</h3>
        <div class="crypto-options">
          <div class="crypto-option" data-crypto="BTC">
            <div>₿ Bitcoin</div>
            <small>BTC</small>
          </div>
          <div class="crypto-option" data-crypto="ETH">
            <div>Ξ Ethereum</div>
            <small>ETH</small>
          </div>
          <div class="crypto-option" data-crypto="USDT">
            <div>₮ Tether</div>
            <small>USDT</small>
          </div>
          <div class="crypto-option" data-crypto="LTC">
            <div>Ł Litecoin</div>
            <small>LTC</small>
          </div>
        </div>
        <div id="paymentDetails"style="display: none;">
          <h4>Адрес для перевода:</h4>
          <div class="payment-address" id="cryptoAddress"></div>
          <p>Сумма к оплате: $<span id="totalAmount"></span></p>
          <p><small>После перевода средств, товары будут отправлены на вашу электронную почту в течение 24 часов.</small></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Модальное окно профиля -->
  <div id="profileModal" class="modal profile-modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('profileModal')">&times;</span>
      <div id="profileContent">
        <div id="authForm">
          <h2>Вход / Регистрация</h2>
          <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" placeholder="your@email.com">
          </div>
          <div class="form-group">
            <label for="password">Пароль:</label>
            <input type="password" id="password" placeholder="Введите пароль">
          </div>
          <div class="auth-buttons">
            <button class="auth-btn login-btn" onclick="login()">Войти</button>
            <button class="auth-btn register-btn" onclick="register()">Регистрация</button>
          </div>
        </div>
        <div id="userProfile" style="display: none;">
          <div class="user-info">
            <div class="user-avatar" id="userAvatar">U</div>
            <h3 id="userName">Пользователь</h3>
            <p id="userEmail">user@example.com</p>
            <button class="auth-btn" onclick="logout()" style="background: #ff4757; color: white; margin-top: 1rem;">Выйти</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Модальное окно избранного -->
  <div id="favoritesModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('favoritesModal')">&times;</span>
      <h2>Избранные товары</h2>
      <div id="favoritesList" class="favorites-grid"></div>
    </div>
  </div>

  <script>
    // Данные товаров
    const products = [
      // Криптоплатформы
      {
        id: 1,
        name: "Binance Pro",
        category: "crypto",
        price: 45,
        rating: 4.9,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/bnb.png",
        features: ["KYC Level 2", "Полная верификация", "API доступ"],
        availability: "in-stock",
        description: "Профессиональный аккаунт Binance с полной верификацией KYC Level 2. Включает все торговые функции, высокие лимиты и API доступ."
      },
      {
        id: 2,
        name: "Coinbase Premium",
        category: "crypto",
        price: 52,
        rating: 4.8,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/btc.png",
        features: ["Полная верификация", "Coinbase Pro", "Высокие лимиты"],
        availability: "in-stock",
        description: "Премиум аккаунт Coinbase с доступом к Coinbase Pro и высокими лимитами на покупку/продажу криптовалют."
      },
      {
        id: 3,
        name: "Kraken Advanced",
        category: "crypto",
        price: 38,
        rating: 4.7,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/eth.png",
        features: ["Tier 3 верификация", "Фьючерсы", "Маржинальная торговля"],
        availability: "limited",
        description: "Продвинутый аккаунт Kraken с Tier 3 верификацией, доступом к фьючерсам и маржинальной торговле."
      },
      {
        id: 4,
        name: "KuCoin VIP",
        category: "crypto",
        price: 35,
        rating: 4.6,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/kcs.png",
        features: ["VIP уровень", "Сниженные комиссии", "Приоритетная поддержка"],
        availability: "in-stock",
        description: "VIP аккаунт KuCoin со сниженными торговыми комиссиями и приоритетной технической поддержкой."
      },
      {
        id: 5,
        name: "Bybit Professional",
        category: "crypto",
        price: 42,
        rating: 4.5,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/usdt.png",
        features: ["Профессиональная торговля", "Деривативы", "Копи-трейдинг"],
        availability: "in-stock",
        description: "Профессиональный аккаунт Bybit для торговли деривативами и участия в копи-трейдинге."
      },
      {
        id: 6,
        name: "Gate.io Elite",
        category: "crypto",
        price: 29,
        rating: 4.4,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/gt.png",
        features: ["Elite статус", "Startup участие", "NFT торговля"],
        availability: "in-stock",
        description: "Elite аккаунт Gate.io с доступом к эксклюзивным startup проектам и NFT торговле."
      },
      {
        id: 7,
        name: "OKX Premium",
        category: "crypto",
        price: 48,
        rating: 4.7,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/okb.png",
        features: ["Premium функции", "DeFi доступ", "Опционы"],
        availability: "limited",
        description: "Premium аккаунт OKX с доступом к DeFi продуктам и торговле опционами."
      },
      {
        id: 8,
        name: "Huobi Global Pro",
        category: "crypto",
        price: 33,
        rating: 4.3,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/ht.png",
        features: ["Global доступ", "Prime List", "P2P торговля"],
        availability: "in-stock",
        description: "Professional аккаунт Huobi Global с доступом к Prime List и P2P торговле."
      },
      {
        id: 9,
        name: "Bitfinex Advanced",
        category: "crypto",
        price: 55,
        rating: 4.5,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/leo.png",
        features: ["Продвинутые ордера", "Lending", "Paper Trading"],
        availability: "limited",
        description: "Продвинутый аккаунт Bitfinex с возможностями кредитования и paper trading."
      },
      {
        id: 10,
        name: "Crypto.com Premium",
        category: "crypto",
        price: 59,
        rating: 4.6,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/cro.png",
        features: ["Premium карта", "Stake rewards", "NFT доступ"],
        availability: "in-stock",
        description: "Premium аккаунт Crypto.com с доступом к премиум карте и стейкинг наградам."
      },
      {
        id: 11,
        name: "FTX Professional",
        category: "crypto",
        price: 65,
        rating: 4.8,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/ftt.png",
        features: ["Pro торговля", "Tokenized stocks", "Move contracts"],
        availability: "out-of-stock",
        description: "Профессиональный аккаунт FTX с доступом к токенизированным акциям."
      },
      {
        id: 12,
        name: "Gemini Premium",
        category: "crypto",
        price: 47,
        rating: 4.4,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/gusd.png",
        features: ["ActiveTrader", "Earn program", "Credit card"],
        availability: "in-stock",
        description: "Premium аккаунт Gemini с ActiveTrader интерфейсом и программой Earn."
      },
      {
        id: 13,
        name: "Bittrex Global",
        category: "crypto",
        price: 31,
        rating: 4.2,
        image: "https://cdn.jsdelivr.net/gh/spothq/cryptocurrency-icons@1/32/color/btc.png",
        features: ["Global доступ", "Enhanced verification", "OTC торговля"],
        availability: "in-stock",
        description: "Global аккаунт Bittrex с расширенной верификацией и OTC торговлей."
      },

      // Платежные системы
      {
        id: 14,
        name: "PayPal Business",
        category: "payment",
        price: 25,
        rating: 4.7,
        image: "https://cdn.worldvectorlogo.com/logos/paypal-2.svg",
        features: ["Business аккаунт", "Международные переводы", "API интеграция"],
        availability: "in-stock",
        description: "Верифицированный Business аккаунт PayPal с возможностью международных переводов."
      },
      {
        id: 15,
        name: "Stripe Professional",
        category: "payment",
        price: 35,
        rating: 4.8,
        image: "https://cdn.worldvectorlogo.com/logos/stripe-4.svg",
        features: ["Полная верификация", "Atlas поддержка", "Connect платформа"],
        availability: "limited",
        description: "Профессиональный аккаунт Stripe с полной верификацией и поддержкой Atlas."
      },
      {
        id: 16,
        name: "Wise Business",
        category: "payment",
        price: 28,
        rating: 4.6,
        image: "https://cdn.worldvectorlogo.com/logos/wise-2.svg",
        features: ["Мультивалютный счет", "Международные переводы", "API доступ"],
        availability: "in-stock",
        description: "Business аккаунт Wise (TransferWise) с мультивалютным счетом."
      },
      {
        id: 17,
        name: "Revolut Business",
        category: "payment",
        price: 32,
        rating: 4.5,
        image: "https://cdn.worldvectorlogo.com/logos/revolut-2.svg",
        features: ["Business функции", "Crypto торговля", "Expense management"],
        availability: "in-stock",
        description: "Business аккаунт Revolut с возможностями торговли криптовалютами."
      },
      {
        id: 18,
        name: "Skrill VIP",
        category: "payment",
        price: 22,
        rating: 4.3,
        image: "https://cdn.worldvectorlogo.com/logos/skrill-1.svg",
        features: ["VIP статус", "Криптовалюты", "Сниженные комиссии"],
        availability: "in-stock",
        description: "VIP аккаунт Skrill со сниженными комиссиями и поддержкой криптовалют."
      },
      {
        id: 19,
        name: "Neteller Premium",
        category: "payment",
        price: 24,
        rating: 4.2,
        image: "https://cdn.worldvectorlogo.com/logos/neteller-1.svg",
        features: ["Premium уровень", "Net+ карта", "Crypto exchange"],
        availability: "in-stock",
        description: "Premium аккаунт Neteller с Net+ картой и криптовалютной биржей."
      },
      {
        id: 20,
        name: "Payoneer Professional",
        category: "payment",
        price: 27,
        rating: 4.4,
        image: "https://cdn.worldvectorlogo.com/logos/payoneer-2.svg",
        features: ["Professional аккаунт", "Global payment", "Tax solutions"],
        availability: "limited",
        description: "Professional аккаунт Payoneer с глобальными платежными решениями."
      },
      {
        id: 21,
        name: "Perfect Money Verified",
        category: "payment",
        price: 18,
        rating: 4.1,
        image: "https://cdn.worldvectorlogo.com/logos/bitcoin-btc-logo.svg",
        features: ["Verified статус", "Все валюты", "API доступ"],
        availability: "in-stock",
        description: "Верифицированный аккаунт Perfect Money со всеми доступными валютами."
      },
      {
        id: 22,
        name: "WebMoney Professional",
        category: "payment",
        price: 21,
        rating: 4.0,
        image: "https://cdn.worldvectorlogo.com/logos/w-6.svg",
        features: ["Professional статус", "Все кошельки", "Keeper Mobile"],
        availability: "in-stock",
        description: "Professional аккаунт WebMoney со всеми типами кошельков."
      },
      {
        id: 23,
        name: "Advcash Premium",
        category: "payment",
        price: 19,
        rating: 3.9,
        image: "https://cdn.worldvectorlogo.com/logos/bitcoin-btc-logo.svg",
        features: ["Premium функции", "Crypto поддержка", "Пластиковые карты"],
        availability: "in-stock",
        description: "Premium аккаунт AdvCash с поддержкой криптовалют и пластиковыми картами."
      },
      {
        id: 24,
        name: "Paxum Verified",
        category: "payment",
        price: 16,
        rating: 3.8,
        image: "https://cdn.worldvectorlogo.com/logos/p-6.svg",
        features: ["Verified аккаунт", "Prepaid карта", "Wire transfers"],
        availability: "in-stock",
        description: "Верифицированный аккаунт Paxum с предоплаченной картой."
      },
      {
        id: 25,
        name: "Payza Professional",
        category: "payment",
        price: 23,
        rating: 3.7,
        image: "https://cdn.worldvectorlogo.com/logos/bitcoin-btc-logo.svg",
        features: ["Professional уровень", "Business tools", "Multi-currency"],
        availability: "out-of-stock",
        description: "Professional аккаунт Payza с бизнес инструментами."
      },

      // Социальные сети
      {
        id: 26,
        name: "Facebook Business Manager",
        category: "social",
        price: 15,
        rating: 4.5,
        image: "https://cdn.worldvectorlogo.com/logos/facebook-3.svg",
        features: ["Business Manager", "Ads Manager", "Pixel доступ"],
        availability: "in-stock",
        description: "Аккаунт Facebook с настроенным Business Manager и доступом к рекламным инструментам."
      },
      {
        id: 27,
        name: "Instagram Business Pro",
        category: "social",
        price: 12,
        rating: 4.4,
        image: "https://cdn.worldvectorlogo.com/logos/instagram-2016-5.svg",
        features: ["Business профиль", "Instagram Shopping", "Creator Studio"],
        availability: "in-stock",
        description: "Business аккаунт Instagram с включенным Shopping и доступом к Creator Studio."
      },
      {
        id: 28,
        name: "Twitter Blue Verified",
        category: "social",
        price: 18,
        rating: 4.3,
        image: "https://cdn.worldvectorlogo.com/logos/twitter-6.svg",
        features: ["Twitter Blue", "Verified badge", "Advanced features"],
        availability: "limited",
        description: "Верифицированный аккаунт Twitter с подпиской Twitter Blue."
      },
      {
        id: 29,
        name: "LinkedIn Premium",
        category: "social",
        price: 22,
        rating: 4.6,
        image: "https://cdn.worldvectorlogo.com/logos/linkedin-icon-2.svg",
        features: ["Premium подписка", "InMail credits", "Advanced search"],
        availability: "in-stock",
        description: "Premium аккаунт LinkedIn с InMail кредитами и расширенным поиском."
      },
      {
        id: 30,
        name: "YouTube Partner Program",
        category: "social",
        price: 35,
        rating: 4.7,
        image: "https://cdn.worldvectorlogo.com/logos/youtube-icon.svg",
        features: ["Monetization", "Partner Program", "Custom thumbnails"],
        availability: "limited",
        description: "YouTube канал с подключенной монетизацией и участием в Partner Program."
      },
      {
        id: 31,
        name: "TikTok Pro Account",
        category: "social",
        price: 14,
        rating: 4.2,
        image: "https://cdn.worldvectorlogo.com/logos/tiktok-icon-2.svg",
        features: ["Pro аккаунт", "Analytics", "Business tools"],
        availability: "in-stock",
        description: "Pro аккаунт TikTok с аналитикой и бизнес инструментами."
      },
      {
        id: 32,
        name: "Telegram Premium",
        category: "social",
        price: 8,
        rating: 4.1,
        image: "https://cdn.worldvectorlogo.com/logos/telegram.svg",
        features: ["Premium подписка", "Advanced features", "File limits"],
        availability: "in-stock",
        description: "Telegram аккаунт с Premium подпиской и расширенными возможностями."
      },
      {
        id: 33,
        name: "Discord Nitro",
        category: "social",
        price: 10,
        rating: 4.0,
        image: "https://cdn.worldvectorlogo.com/logos/discord-6.svg",
        features: ["Nitro подписка", "Server boosts", "HD streaming"],
        availability: "in-stock",
        description: "Discord аккаунт с Nitro подпиской и server boosts."
      },
      {
        id: 34,
        name: "Reddit Premium",
        category: "social",
        price: 6,
        rating: 3.9,
        image: "https://cdn.worldvectorlogo.com/logos/reddit-4.svg",
        features: ["Premium подписка", "Ad-free", "Monthly coins"],
        availability: "in-stock",
        description: "Reddit аккаунт с Premium подпиской без рекламы."
      },
      {
        id: 35,
        name: "Pinterest Business",
        category: "social",
        price: 11,
        rating: 4.1,
        image: "https://cdn.worldvectorlogo.com/logos/pinterest-badge.svg",
        features: ["Business аккаунт", "Pinterest Ads", "Analytics"],
        availability: "in-stock",
        description: "Business аккаунт Pinterest с доступом к рекламе и аналитике."
      },
      {
        id: 36,
        name: "Snapchat Business",
        category: "social",
        price: 13,
        rating: 3.8,
        image: "https://cdn.worldvectorlogo.com/logos/snapchat-2.svg",
        features: ["Business профиль", "Snap Ads", "Lens Studio"],
        availability: "in-stock",
        description: "Business аккаунт Snapchat с доступом к рекламным инструментам."
      },
      {
        id: 37,
        name: "WhatsApp Business API",
        category: "social",
        price: 25,
        rating: 4.3,
        image: "https://cdn.worldvectorlogo.com/logos/whatsapp-4.svg",
        features: ["Business API", "Automation", "Multiple agents"],
        availability: "limited",
        description: "WhatsApp Business аккаунт с API доступом для автоматизации."
      },
      {
        id: 38,
        name: "Twitch Partner",
        category: "social",
        price: 45,
        rating: 4.5,
        image: "https://cdn.worldvectorlogo.com/logos/twitch-1.svg",
        features: ["Partner Program", "Monetization", "Custom emotes"],
        availability: "out-of-stock",
        description: "Twitch канал с Partner статусом и возможностями монетизации."
      },
      {
        id: 39,
        name: "OnlyFans Creator",
        category: "social",
        price: 28,
        rating: 4.0,
        image: "https://cdn.worldvectorlogo.com/logos/onlyfans-1.svg",
        features: ["Creator аккаунт", "Monetization", "Analytics"],
        availability: "limited",
        description: "Creator аккаунт OnlyFans с настроенной монетизацией."
      },
      {
        id: 40,
        name: "Clubhouse Creator",
        category: "social",
        price: 20,
        rating: 3.6,
        image: "https://cdn.worldvectorlogo.com/logos/clubhouse-2.svg",
        features: ["Creator функции", "Room hosting", "Follower base"],
        availability: "in-stock",
        description: "Clubhouse аккаунт с Creator функциями и базой подписчиков."
      }
    ];

    function placeholderSvg(name, size) {
      const fontSize = Math.round(size * 0.2);
      const y = Math.round(size * 0.55);
      const svg = `<svg xmlns="http://www.w3.org/2000/svg" width="${size}" height="${size}" viewBox="0 0 ${size} ${size}"><rect width="${size}" height="${size}" fill="%23667eea"/><text x="${size/2}" y="${y}" text-anchor="middle" fill="white" font-size="${fontSize}">${name.charAt(0)}</text></svg>`;
      return `data:image/svg+xml,${encodeURIComponent(svg)}`;
    }

    // Состояние приложения
    let filteredProducts = [...products];
    let cart = JSON.parse(localStorage.getItem('cart') || '[]');
    let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
    let currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');

    // Инициализация
    document.addEventListener('DOMContentLoaded', function() {
      renderProducts();
      updateCartBadge();
      setupEventListeners();
      checkAuthStatus();
    });

    function setupEventListeners() {
      // Поиск
      document.getElementById('searchInput').addEventListener('input', filterProducts);
      
      // Фильтры
      document.getElementById('categoryFilter').addEventListener('change', filterProducts);
      document.getElementById('priceFilter').addEventListener('change', filterProducts);
      document.getElementById('sortBy').addEventListener('change', filterProducts);
      
      // Кнопки в хедере
      document.getElementById('cartBtn').addEventListener('click', toggleCart);
      document.getElementById('profileBtn').addEventListener('click', () => openModal('profileModal'));
      document.getElementById('favoritesBtn').addEventListener('click', () => {
        renderFavorites();
        openModal('favoritesModal');
      });
      
      // Закрытие корзины
      document.getElementById('cartOverlay').addEventListener('click', closeCart);
      
      // Криптовалютные опции
      document.querySelectorAll('.crypto-option').forEach(option => {
        option.addEventListener('click', function() {
          document.querySelectorAll('.crypto-option').forEach(opt => opt.classList.remove('selected'));
          this.classList.add('selected');
          showPaymentDetails(this.dataset.crypto);
        });
      });
    }

    function renderProducts() {
      const grid = document.getElementById('productGrid');
      
      if (filteredProducts.length === 0) {
        grid.innerHTML = `
          <div class="no-results">
            <i class="fas fa-search"></i>
            <h3>Товары не найдены</h3>
            <p>Попробуйте изменить параметры поиска или фильтры</p>
          </div>
        `;
        updateResultsCount();
        return;
      }

      grid.innerHTML = filteredProducts.map(product => `
        <div class="product-card" onclick="openProductDetail(${product.id})">
          <button class="favorite-btn ${favorites.includes(product.id) ? 'active' : ''}" 
                  onclick="event.stopPropagation(); toggleFavorite(${product.id})">
            <i class="fas fa-heart"></i>
          </button>
          
          <div class="availability ${product.availability}">
            ${getAvailabilityText(product.availability)}
          </div>
          
          <div class="product-top">
            <div class="logo-wrapper">
              <img src="${product.image}" alt="${product.name}" onerror="this.src=placeholderSvg('${product.name}',80)">
            </div>
          </div>
          
          <div class="product-info">
            <div class="product-rating">
              ${generateStars(product.rating)}
              <span class="rating-text">${product.rating}</span>
            </div>
            
            <h3 class="product-title">${product.name}</h3>
            <div class="product-category">${getCategoryName(product.category)}</div>
            
            <div class="product-features">
              ${product.features.map(feature => `<span class="feature-badge">${feature}</span>`).join('')}
            </div>
          </div>
          
          <div class="product-bottom">
            <div class="product-price">$${product.price}</div>
            <button class="product-button" onclick="event.stopPropagation(); addToCart(${product.id})">
              В корзину
            </button>
          </div>
        </div>
      `).join('');
      
      updateResultsCount();
    }

    function filterProducts() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      const categoryFilter = document.getElementById('categoryFilter').value;
      const priceFilter = document.getElementById('priceFilter').value;
      const sortBy = document.getElementById('sortBy').value;

      filteredProducts = products.filter(product => {
        const matchesSearch = product.name.toLowerCase().includes(searchTerm) ||
                            product.features.some(feature => feature.toLowerCase().includes(searchTerm));
        
        const matchesCategory = categoryFilter === 'all' || product.category === categoryFilter;
        
        let matchesPrice = true;
        if (priceFilter !== 'all') {
          const [min, max] = priceFilter.split('-').map(p => p.replace('+', ''));
          const price = product.price;
          if (max) {
            matchesPrice = price >= parseInt(min) && price <= parseInt(max);
          } else {
            matchesPrice = price >= parseInt(min);
          }
        }
        
        return matchesSearch && matchesCategory && matchesPrice;
      });

      // Сортировка
      filteredProducts.sort((a, b) => {
        switch (sortBy) {
          case 'price-low':
            return a.price - b.price;
          case 'price-high':
            return b.price - a.price;
          case 'rating':
            return b.rating - a.rating;
          case 'name':
          default:
            return a.name.localeCompare(b.name);
        }
      });

      renderProducts();
    }

    function generateStars(rating) {
      const stars = [];
      const fullStars = Math.floor(rating);
      const hasHalfStar = rating % 1 !== 0;
      
      for (let i = 0; i < fullStars; i++) {
        stars.push('<i class="fas fa-star star"></i>');
      }
      
      if (hasHalfStar) {
        stars.push('<i class="fas fa-star-half-alt star"></i>');
      }
      
      const emptyStars = 5 - Math.ceil(rating);
      for (let i = 0; i < emptyStars; i++) {
        stars.push('<i class="far fa-star star"></i>');
      }
      
      return stars.join('');
    }

    function getCategoryName(category) {
      const categories = {
        crypto: 'Криптоплатформы',
        payment: 'Платежные системы',
        social: 'Социальные сети'
      };
      return categories[category] || category;
    }

    function getAvailabilityText(availability) {
      const texts = {
        'in-stock': 'В наличии',
        'limited': 'Ограничено',
        'out-of-stock': 'Нет в наличии'
      };
      return texts[availability] || availability;
    }

    function updateResultsCount() {
      document.getElementById('resultsCount').textContent = 
        `Показано: ${filteredProducts.length} из ${products.length}`;
    }

    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      const existingItem = cart.find(item => item.id === productId);
      
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({ ...product, quantity: 1 });
      }
      
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartBadge();
      renderCart();
      
      // Показываем уведомление
      showNotification(`${product.name} добавлен в корзину!`);
    }

    function removeFromCart(productId) {
      cart = cart.filter(item => item.id !== productId);
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartBadge();
      renderCart();
    }

    function updateQuantity(productId, change) {
      const item = cart.find(item => item.id === productId);
      if (item) {
        item.quantity += change;
        if (item.quantity <= 0) {
          removeFromCart(productId);
        } else {
          localStorage.setItem('cart', JSON.stringify(cart));
          renderCart();
          updateCartBadge();
        }
      }
    }

    function updateCartBadge() {
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById('cartBadge').textContent = totalItems;
    }

    function toggleCart() {
      const sidebar = document.getElementById('cartSidebar');
      const overlay = document.getElementById('cartOverlay');
      
      if (sidebar.classList.contains('open')) {
        closeCart();
      } else {
        renderCart();
        sidebar.classList.add('open');
        overlay.classList.add('show');
      }
    }

    function closeCart() {
      document.getElementById('cartSidebar').classList.remove('open');
      document.getElementById('cartOverlay').classList.remove('show');
    }

    function renderCart() {
      const cartItems = document.getElementById('cartItems');
      const cartTotal = document.getElementById('cartTotal');
      
      if (cart.length === 0) {
        cartItems.innerHTML = '<p style="text-align: center; color: #666; padding: 2rem;">Корзина пуста</p>';
        cartTotal.textContent = '0.00';
        return;
      }
      
      cartItems.innerHTML = cart.map(item => `
        <div class="cart-item">
          <img src="${item.image}" alt="${item.name}" onerror="this.src=placeholderSvg('${item.name}',50)">
          <div class="cart-item-info">
            <div class="cart-item-name">${item.name}</div>
            <div class="cart-item-price">$${item.price}</div>
            <div class="quantity-controls">
              <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
              <span>${item.quantity}</span>
              <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
              <button class="quantity-btn" onclick="removeFromCart(${item.id})" style="margin-left: 1rem; background: #ff4757; color: white;">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
        </div>
      `).join('');
      
      const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      cartTotal.textContent = total.toFixed(2);
    }

    function openCheckout() {
      if (cart.length === 0) {
        showNotification('Корзина пуста!', 'error');
        return;
      }
      
      const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      document.getElementById('totalAmount').textContent = total.toFixed(2);
      
      closeCart();
      openModal('checkoutModal');
    }

    function showPaymentDetails(crypto) {
      const addresses = {
        BTC: '1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa',
        ETH: '0x742d35Cc6634C0532925a3b8D40ba9d3527B6c2C',
        USDT: 'TLa2f6VPqDgRE67v1736s7jjYTi6CpPo8k',
        LTC: 'LhK2BTgxvvk5uBgGy5X1w9qz7w8h3bZZ7L'
      };
      
      document.getElementById('cryptoAddress').textContent = addresses[crypto];
      document.getElementById('paymentDetails').style.display = 'block';
    }

    function toggleFavorite(productId) {
      const index = favorites.indexOf(productId);
      if (index > -1) {
        favorites.splice(index, 1);
      } else {
        favorites.push(productId);
      }
      
      localStorage.setItem('favorites', JSON.stringify(favorites));
      renderProducts(); // Обновляем отображение
    }

    function renderFavorites() {
      const favoritesList = document.getElementById('favoritesList');
      const favoriteProducts = products.filter(p => favorites.includes(p.id));
      
      if (favoriteProducts.length === 0) {
        favoritesList.innerHTML = '<p style="text-align: center; color: #666; padding: 2rem;">Нет избранных товаров</p>';
        return;
      }
      
      favoritesList.innerHTML = favoriteProducts.map(product => `
        <div class="favorite-item">
          <img src="${product.image}" alt="${product.name}" onerror="this.src=placeholderSvg('${product.name}',60)">
          <div class="favorite-item-info">
            <div class="favorite-item-name">${product.name}</div>
            <div class="favorite-item-price">$${product.price}</div>
          </div>
          <button class="remove-favorite" onclick="toggleFavorite(${product.id}); renderFavorites();">
            <i class="fas fa-times"></i>
          </button>
        </div>
      `).join('');
    }

    function openProductDetail(productId) {
      const product = products.find(p => p.id === productId);
      if (!product) return;
      
      document.getElementById('productDetail').innerHTML = `
        <div class="product-detail">
          <div class="product-detail-image">
            <img src="${product.image}" alt="${product.name}" onerror="this.src=placeholderSvg('${product.name}',150)">
          </div>
          <div class="product-detail-info">
            <h2>${product.name}</h2>
            <div class="product-rating">
              ${generateStars(product.rating)}
              <span class="rating-text">${product.rating}</span>
            </div>
            <div class="product-detail-price">$${product.price}</div>
            <div class="product-category">${getCategoryName(product.category)}</div>
            <div class="product-features">
              ${product.features.map(feature => `<span class="feature-badge">${feature}</span>`).join('')}
            </div>
            <div class="product-description">
              <p>${product.description}</p>
            </div>
            <div class="availability ${product.availability}">
              ${getAvailabilityText(product.availability)}
            </div>
            <button class="product-button" onclick="addToCart(${product.id}); closeModal('productModal');" 
                    ${product.availability === 'out-of-stock' ? 'disabled' : ''}>
              ${product.availability === 'out-of-stock' ? 'Нет в наличии' : 'Добавить в корзину'}
            </button>
          </div>
        </div>
      `;
      
      openModal('productModal');
    }

    function openModal(modalId) {
      document.getElementById(modalId).style.display = 'block';
    }

    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
    }

    function login() {
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      
      if (!email || !password) {
        showNotification('Заполните все поля!', 'error');
        return;
      }
      
      // Простая имитация авторизации
      const user = {
        email: email,
        name: email.split('@')[0],
        joinDate: new Date().toLocaleDateString()
      };
      
      currentUser = user;
      localStorage.setItem('currentUser', JSON.stringify(user));
      
      showAuthenticatedUser();
      showNotification('Вход выполнен успешно!');
    }

    function register() {
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      
      if (!email || !password) {
        showNotification('Заполните все поля!', 'error');
        return;
      }
      
      // Простая имитация регистрации
      const user = {
        email: email,
        name: email.split('@')[0],
        joinDate: new Date().toLocaleDateString()
      };
      
      currentUser = user;
      localStorage.setItem('currentUser', JSON.stringify(user));
      
      showAuthenticatedUser();
      showNotification('Регистрация прошла успешно!');
    }

    function logout() {
      currentUser = null;
      localStorage.removeItem('currentUser');
      showAuthForm();
      showNotification('Вы вышли из аккаунта');
    }

    function checkAuthStatus() {
      if (currentUser) {
        showAuthenticatedUser();
      } else {
        showAuthForm();
      }
    }

    function showAuthForm() {
      document.getElementById('authForm').style.display = 'block';
      document.getElementById('userProfile').style.display = 'none';
    }

    function showAuthenticatedUser() {
      document.getElementById('authForm').style.display = 'none';
      document.getElementById('userProfile').style.display = 'block';
      
      document.getElementById('userName').textContent = currentUser.name;
      document.getElementById('userEmail').textContent = currentUser.email;
      document.getElementById('userAvatar').textContent = currentUser.name.charAt(0).toUpperCase();
    }

    function showNotification(message, type = 'success') {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'error' ? '#ff4757' : '#2ed573'};
        color: white;
        padding: 1rem 2rem;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        animation: slideIn 0.3s ease;
      `;
      
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => document.body.removeChild(notification), 300);
      }, 3000);
    }

    // Закрытие модальных окон по клику вне их области
    window.onclick = function(event) {
      const modals = document.querySelectorAll('.modal');
      modals.forEach(modal => {
        if (event.target === modal) {
          modal.style.display = 'none';
        }
      });
    }

    // Добавляем CSS анимации для уведомлений
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
      
      @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>
